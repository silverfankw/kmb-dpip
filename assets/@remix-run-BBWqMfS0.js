/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}var d;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(d||(d={}));const m="popstate";function j(e){e===void 0&&(e={});function t(r,i){let{pathname:p,search:c,hash:s}=r.location;return P("",{pathname:p,search:c,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:A(i)}return R(t,n,null,e)}function B(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function I(){return Math.random().toString(36).substr(2,8)}function E(e,t){return{usr:e.state,key:e.key,idx:t}}function P(e,t,n,r){return n===void 0&&(n=null),y({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?M(t):t,{state:n,key:t&&t.key||r||I()})}function A(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function M(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function R(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:p=!1}=r,c=i.history,s=d.Pop,u=null,f=g();f==null&&(f=0,c.replaceState(y({},c.state,{idx:f}),""));function g(){return(c.state||{idx:null}).idx}function L(){s=d.Pop;let a=g(),o=a==null?null:a-f;f=a,u&&u({action:s,location:h.location,delta:o})}function H(a,o){s=d.Push;let l=P(h.location,a,o);f=g()+1;let v=E(l,f),w=h.createHref(l);try{c.pushState(v,"",w)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(w)}p&&u&&u({action:s,location:h.location,delta:1})}function b(a,o){s=d.Replace;let l=P(h.location,a,o);f=g();let v=E(l,f),w=h.createHref(l);c.replaceState(v,"",w),p&&u&&u({action:s,location:h.location,delta:0})}function S(a){let o=i.location.origin!=="null"?i.location.origin:i.location.href,l=typeof a=="string"?a:A(a);return l=l.replace(/ $/,"%20"),B(o,"No window.location.(origin|href) available to create URL for href: "+l),new URL(l,o)}let h={get action(){return s},get location(){return e(i,c)},listen(a){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(m,L),u=a,()=>{i.removeEventListener(m,L),u=null}},createHref(a){return t(i,a)},createURL:S,encodeLocation(a){let o=S(a);return{pathname:o.pathname,search:o.search,hash:o.hash}},push:H,replace:b,go(a){return c.go(a)}};return h}var O;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(O||(O={}));function k(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const C=["post","put","patch","delete"];new Set(C);const U=["get",...C];new Set(U);export{d as A,j as c,B as i,M as p,k as s};
